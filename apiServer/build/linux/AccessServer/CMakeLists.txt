cmake_minimum_required(VERSION 2.6)
PROJECT(accessServer)

ADD_DEFINITIONS(-DDEBUG)
SET(SRC_PATH ../../../src)
SET(EXECUTABLE_OUTPUT_PATH ../../../bin/linux/AccessServer/bin)

INCLUDE_DIRECTORIES(${SRC_PATH})
INCLUDE_DIRECTORIES(/home/3rd-party/libevent-2.0.21/include)
INCLUDE_DIRECTORIES(/home/3rd-party/boost/include)
INCLUDE_DIRECTORIES(/home/3rd-party/log4cxx/include)
INCLUDE_DIRECTORIES(/home/3rd-party/json-c-0.9/include)
INCLUDE_DIRECTORIES(/home/3rd-party/poco/include)

LINK_DIRECTORIES(/home/3rd-party/boost/lib)
LINK_DIRECTORIES(/home/3rd-party/log4cxx/lib)
LINK_DIRECTORIES(/home/3rd-party/libevent-2.0.21/lib)
LINK_DIRECTORIES(/home/3rd-party/json-c-0.9/lib)
LINK_DIRECTORIES(/home/3rd-party/poco/lib)

SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/base/facility/ErrorMsg.cpp)
SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/base/facility/Demangle.cpp)
SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/base/facility/Exception.cpp)
SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/base/facility/Json.cpp)
SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/base/facility/log.cpp)
SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/base/facility/SysHealth.cpp)
SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/base/facility/Thread.cpp)
SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/base/facility/MD5.cpp)
SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/base/facility/Base64.cpp)

SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/base/net/HTTPServer.cpp)
SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/base/net/StreamSocket.cpp)
SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/base/net/HTTPConnection.cpp)
SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/base/net/HTTPConnectionManager.cpp)
SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/base/net/HTTPReply.cpp)
SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/base/net/HTTPRequestHandler.cpp)
SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/base/net/HTTPClient.cpp)

SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/httpproxy/accessserver/handler/GetAddressList.cpp)
SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/httpproxy/accessserver/handler/GetTestNodeList.cpp)
SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/httpproxy/accessserver/handler/ReportTestResult.cpp)
SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/httpproxy/accessserver/handler/JustReportTestResult.cpp)
SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/httpproxy/accessserver/handler/IPSearch.cpp)
SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/httpproxy/accessserver/handler/UpdateDatabase.cpp)

SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/httpproxy/accessserver/core/RadixTree.cpp)
SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/httpproxy/accessserver/core/AccessPointManager.cpp)
SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/httpproxy/accessserver/core/StreamServerManager.cpp)
SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/httpproxy/accessserver/core/StrategyManager.cpp)

SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/httpproxy/accessserver/system/AccessServerConfig.cpp)

SET(SRC_FILE ${SRC_FILE} ${SRC_PATH}/kugou/httpproxy/accessserver/main.cpp)

ADD_EXECUTABLE(accessServer ${SRC_FILE})

TARGET_LINK_LIBRARIES(accessServer log4cxx)
TARGET_LINK_LIBRARIES(accessServer boost_system)
TARGET_LINK_LIBRARIES(accessServer boost_thread)
TARGET_LINK_LIBRARIES(accessServer boost_regex)
TARGET_LINK_LIBRARIES(accessServer boost_filesystem)
TARGET_LINK_LIBRARIES(accessServer boost_program_options)
TARGET_LINK_LIBRARIES(accessServer event)
TARGET_LINK_LIBRARIES(accessServer json)
TARGET_LINK_LIBRARIES(accessServer PocoFoundation)
TARGET_LINK_LIBRARIES(accessServer PocoDataMySQL)
